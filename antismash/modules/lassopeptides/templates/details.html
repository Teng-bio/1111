<div class="details">
    <div class="heading">
      <span>Lasso peptide predictions</span>
      {{ help_tooltip(tooltip, "lasso-body") }}
    </div>
    <div class="details-text">
    {% if not motifs_by_locus %}
      Lassopeptides - No core peptides found.
    {% else %}
     {% for locus in motifs_by_locus | sort %}
      <h4>Lassopeptide(s) for {{ locus }}</h4>
      <hr>
       {% for core, motifs in motifs_by_locus[locus].items() %}
        <div class="ripp-motif">
         {% for motif in motifs %}
          {% set motif_name = motif.get_name().rsplit("_", 1)[0] %}
           <div class="ripp-name">
            <span class="serif">{{ motif_name }}</span>
           </div>
           <div class="ripp-segment-type">Leader:</div>
           <div class="ripp-segment-sequence">{{ motif.leader }}</div>
         {% endfor %}
           <div class="ripp-segment-type">{% if motifs | length > 1%}Shared core{% else %}Core{% endif %} / macrolactam:</div>
           <div class="ripp-segment-sequence">{{ coloured_ripp_sequence(core) }}</div>
           <div class="ripp-segment-type">Core with dehydrations:</div>
           <div class="ripp-segment-sequence ripp-dehydrated">{{ coloured_ripp_sequence(core, dehydrate=True) }}</div>
         {% for motif in motifs %}
          {% if motif.tail %}
           {% set motif_name = motif.get_name().rsplit("_", 1)[0] %}
           <div class="ripp-name">
            <span class="serif">{{ motif_name }}</span>
           </div>
           <div class="ripp-segment-type">Cleaved off residues:</div>
           <div class="ripp-segment-sequence"><span class="cut">{{ motif.tail }}</span></div>
          {% endif %}
         {% endfor %}
        </div>
       {% endfor %}
    {% endfor %}
    <div class="legend">
      <h4> Legend: </h4>
      <div>
        <span class="dha">Dha</span>: Didehydroalanine<br>
        <span class="dhb">Dhb</span>: Didehydrobutyrine<br>
      </div>
    </div>
  {% endif %}
   </div>
</div>
